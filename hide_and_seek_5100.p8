pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--hide and seek 5100
--by jeff adams
--a game by its cover jam 2020
--inspired by the artwork of
--metehan korkmazel

function _init()
	debug={}
	dstate=draw_menu
	ustate=update_menu
end

function _update()
	ustate()
end

function _draw()
	cls()
	dstate()
	draw_debug(0,0)
end
-->8
--update

function update_menu()
	if btnp(❎) then
		add_debug("current time",time(),3)
	end
end
-->8
--draw

function draw_menu()
	print("menu",58,64,7)
end
-->8
--utilities

function add_debug(_k,_v,_dur)
	debug[_k]={val=_v,frames=_dur*stat(8)}
end

function draw_debug(_x,_y)
	local _title,_c="debug",11
	local _lines,_max={},#_title
	for k,v in pairs(debug) do
		if v.frames>0 then
			local _line=k..": "..v.val
			_max=#_line>_max and #_line or _max
			add(_lines,_line)
			v.frames-=1		
		else
			del(debug,k)
		end
	end
	if #_lines>0 then
		local _offset=10
		rectfill(_x,_y,_x+_max*4+4,_y+#_lines*6+_offset+6,5)
		print(_title,_x+2,_y+2,_c)
		for i=1,#_lines do
			print(_lines[i],_x+2,i*6+_y+_offset,_c)
		end
	end
end
__gfx__
000000000000000a90000000bb8888bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000aa99000000b888888b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000aaa900000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000000aaaa990000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000000aaaaa999000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000000aaaaa999000088888888000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000aaaaaaa999000b888888b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaaaaaa999900bb8888bb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaaaaa99999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaaaaaaa99999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaaaaa9999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaaaaa9999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000aaaaaaaaa9999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000aaaaaa9990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000aaaaa990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000aa900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
